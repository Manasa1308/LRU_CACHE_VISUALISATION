<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LRU Cache Visualizer</title>

<style>
body{
    margin:0;
    font-family:Segoe UI, sans-serif;
    background:#0a0f1f;
    color:#e5e7eb;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}

.app{
    width:900px;
    background:#11162a;
    border-radius:16px;
    padding:30px;
    box-shadow:0 20px 60px rgba(0,0,0,0.6);
}

h1{
    text-align:center;
    margin-bottom:25px;
    font-weight:600;
}

/* Controls */
.controls{
    display:flex;
    justify-content:center;
    gap:10px;
    margin-bottom:30px;
}

input{
    width:220px;
    padding:12px;
    border-radius:8px;
    border:none;
    background:#0a0f1f;
    color:white;
    outline:1px solid #2a335a;
}

button{
    padding:12px 18px;
    border:none;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
}

.put{background:#60a5fa;}
.get{background:#4ade80;}
.reset{background:#f87171;}

/* Cache */
.cache-wrapper{
    margin-top:20px;
}

.cache{
    display:grid;
    grid-template-columns:repeat(5, 1fr);
    gap:14px;
    margin-top:20px;
}

.block{
    height:70px;
    background:#0a0f1f;
    border:2px dashed #2a335a;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    font-weight:600;
    transition:0.3s;
}

.hit{
    border-style:solid;
    border-color:#4ade80;
}

.evict{
    border-style:solid;
    border-color:#f87171;
}

/* Labels */
.labels{
    display:flex;
    justify-content:space-between;
    font-size:14px;
    opacity:0.8;
}

/* Status */
.status{
    margin-top:25px;
    text-align:center;
    font-size:16px;
}
</style>
</head>

<body>

<div class="app">

<h1>LRU Cache Visualizer</h1>

<div class="controls">
    <input id="key" placeholder="Enter key">
    <button class="put" onclick="put()">PUT</button>
    <button class="get" onclick="get()">GET</button>
    <button class="reset" onclick="resetCache()">RESET</button>
</div>

<div class="cache-wrapper">
    <div class="labels">
        <span>⬅ MRU</span>
        <span>LRU ➡</span>
    </div>

    <div class="cache" id="cache"></div>
</div>

<div class="status" id="status">Cache Capacity = 5</div>

</div>

<script>
const CAPACITY = 5;
let cache = [];

function render(hit=null, evict=null){
    const c = document.getElementById("cache");
    c.innerHTML="";
    for(let i=0;i<CAPACITY;i++){
        const b=document.createElement("div");
        b.className="block";
        if(cache[i]){
            b.innerText=cache[i];
            if(cache[i]===hit) b.classList.add("hit");
            if(cache[i]===evict) b.classList.add("evict");
        }
        c.appendChild(b);
    }
}

function clearInput(){
    document.getElementById("key").value="";
}

function put(){
    const key=document.getElementById("key").value.trim();
    if(!key) return;

    let evicted=null;
    const idx=cache.indexOf(key);

    if(idx!==-1){
        cache.splice(idx,1);
        cache.unshift(key);
        setStatus(`PUT: Cache Hit (${key})`);
        render(key);
    }else{
        if(cache.length===CAPACITY){
            evicted=cache.pop();
            setStatus(`Evicted: ${evicted}`);
        }else{
            setStatus(`Inserted: ${key}`);
        }
        cache.unshift(key);
        render(null, evicted);
    }
    clearInput();
}

function get(){
    const key=document.getElementById("key").value.trim();
    const idx=cache.indexOf(key);

    if(idx===-1){
        setStatus(`Cache Miss (${key})`);
        clearInput();
        return;
    }

    cache.splice(idx,1);
    cache.unshift(key);
    setStatus(`Cache Hit (${key})`);
    render(key);
    clearInput();
}

function resetCache(){
    cache=[];
    render();
    setStatus("Cache Reset");
}

function setStatus(msg){
    document.getElementById("status").innerText=msg;
}

render();
</script>

</body>
</html>

